# å®éªŒå®¤ç®¡ç†ç³»ç»Ÿ - è‡ªåŠ¨ä¿®å¤ä½¿ç”¨æŒ‡å—

## ğŸ¯ åŠŸèƒ½æ¦‚è¿°

ä¸ºäº†è§£å†³ `Uncaught runtime errors: Unexpected token '<'` ç­‰å¸¸è§é”™è¯¯ï¼Œæˆ‘ä»¬ä¸ºç³»ç»Ÿæ·»åŠ äº†è‡ªåŠ¨ä¿®å¤åŠŸèƒ½ã€‚æ¯æ¬¡å¯åŠ¨æ—¶éƒ½ä¼šè‡ªåŠ¨æ£€æµ‹å’Œä¿®å¤æ½œåœ¨é—®é¢˜ï¼Œç¡®ä¿ç³»ç»Ÿç¨³å®šè¿è¡Œã€‚

## ğŸš€ å¯åŠ¨æ–¹å¼

### 1. è‡ªåŠ¨ä¿®å¤å¯åŠ¨ï¼ˆæ¨èï¼‰

```bash
# å‰ç«¯å®‰å…¨å¯åŠ¨ï¼ˆè‡ªåŠ¨æ¸…ç†ç¼“å­˜ï¼‰
npm run start:safe

# æˆ–è€…ä½¿ç”¨æ ‡å‡†å¯åŠ¨ï¼ˆä¼šè‡ªåŠ¨æ‰§è¡Œé¢„æ¸…ç†ï¼‰
npm start
```

### 2. ä¸€é”®å¯åŠ¨è„šæœ¬

#### Windows æ‰¹å¤„ç†æ–‡ä»¶

```bash
# ä»…å¯åŠ¨å‰ç«¯ï¼ˆæ¨èï¼‰
start-frontend-safe.bat

# å¯åŠ¨å®Œæ•´ç³»ç»Ÿï¼ˆå‰ç«¯+åç«¯ï¼‰
start-system-safe.bat
```

### 3. æ‰‹åŠ¨æ¸…ç†

```bash
# å¼ºåˆ¶æ¸…ç†æ‰€æœ‰ç¼“å­˜
npm run clean

# æ¸…ç†åå¯åŠ¨
npm run start:clean
```

## ğŸ”§ è‡ªåŠ¨ä¿®å¤åŠŸèƒ½

### è‡ªåŠ¨æ£€æµ‹çš„é”™è¯¯ç±»å‹

1. **è¯­æ³•é”™è¯¯** (`Unexpected token '<'`, `SyntaxError`)
   - è‡ªåŠ¨æ¸…ç† npm ç¼“å­˜
   - æ¸…ç† webpack ç¼“å­˜
   - æ¸…ç† build ç›®å½•

2. **æ¨¡å—é”™è¯¯** (`Module not found`, `Cannot resolve`)
   - é‡æ–°å®‰è£…ä¾èµ–
   - æ¸…ç† node_modules

3. **ç¼–è¯‘é”™è¯¯** (`Failed to compile`)
   - æ‰§è¡Œå®Œæ•´ç¼“å­˜æ¸…ç†

4. **ç«¯å£å ç”¨** (`EADDRINUSE`)
   - è‡ªåŠ¨ç»ˆæ­¢å ç”¨è¿›ç¨‹

### è‡ªåŠ¨ä¿®å¤æµç¨‹

```
å¯åŠ¨å‰æ£€æµ‹ â†’ å‘ç°é”™è¯¯ â†’ è‡ªåŠ¨ä¿®å¤ â†’ æ¸…ç†ç¼“å­˜ â†’ æ­£å¸¸å¯åŠ¨
```

## ğŸ“‹ å¯ç”¨å‘½ä»¤

### package.json æ–°å¢å‘½ä»¤

```json
{
  "scripts": {
    "prestart": "node scripts/pre-start-cleanup.js",
    "start": "react-scripts start",
    "start:safe": "node scripts/pre-start-cleanup.js --force && react-scripts start",
    "start:clean": "npm run clean && react-scripts start",
    "clean": "node scripts/pre-start-cleanup.js --force"
  }
}
```

### å‘½ä»¤è¯´æ˜

- `npm start` - æ ‡å‡†å¯åŠ¨ï¼ˆè‡ªåŠ¨æ‰§è¡Œé¢„æ¸…ç†ï¼‰
- `npm run start:safe` - å®‰å…¨å¯åŠ¨ï¼ˆå¼ºåˆ¶æ¸…ç†åå¯åŠ¨ï¼‰
- `npm run start:clean` - æ¸…ç†å¯åŠ¨ï¼ˆå®Œæ•´æ¸…ç†åå¯åŠ¨ï¼‰
- `npm run clean` - ä»…æ‰§è¡Œæ¸…ç†æ“ä½œ

## ğŸ› ï¸ æ‰‹åŠ¨ä¿®å¤å·¥å…·

### é”™è¯¯æ£€æµ‹å™¨

```bash
# æ£€æµ‹é”™è¯¯
node scripts/error-detector.js --detect

# è‡ªåŠ¨ä¿®å¤
node scripts/error-detector.js --fix
```

### é¢„å¯åŠ¨æ¸…ç†

```bash
# æ ‡å‡†æ¸…ç†
node scripts/pre-start-cleanup.js

# å¼ºåˆ¶æ¸…ç†
node scripts/pre-start-cleanup.js --force
```

## ğŸ” æ•…éšœæ’é™¤

### å¸¸è§é—®é¢˜

1. **PowerShell æ‰§è¡Œç­–ç•¥é”™è¯¯**
   - è§£å†³æ–¹æ¡ˆï¼šä½¿ç”¨ `cmd /c "npm start"` æˆ–æ‰¹å¤„ç†æ–‡ä»¶

2. **ç«¯å£è¢«å ç”¨**
   - è‡ªåŠ¨è§£å†³ï¼šç³»ç»Ÿä¼šè‡ªåŠ¨ç»ˆæ­¢å ç”¨è¿›ç¨‹
   - æ‰‹åŠ¨è§£å†³ï¼š`taskkill /f /im node.exe`

3. **ä¾èµ–å®‰è£…å¤±è´¥**
   - æ£€æŸ¥ç½‘ç»œè¿æ¥
   - æ¸…ç† npm ç¼“å­˜ï¼š`npm cache clean --force`
   - åˆ é™¤ node_modules é‡æ–°å®‰è£…

4. **ç¼–è¯‘æŒç»­å¤±è´¥**
   - ä½¿ç”¨ `npm run start:clean` å®Œæ•´é‡ç½®
   - æ£€æŸ¥ä»£ç è¯­æ³•é”™è¯¯

### æ—¥å¿—æ–‡ä»¶

- **å¯åŠ¨æ—¥å¿—**: `frontend/.startup-log`
- **é”™è¯¯æ—¥å¿—**: `frontend/.error-log`

## ğŸ’¡ æœ€ä½³å®è·µ

1. **ä¼˜å…ˆä½¿ç”¨å®‰å…¨å¯åŠ¨**
   ```bash
   npm run start:safe
   ```

2. **é‡åˆ°é—®é¢˜æ—¶ä½¿ç”¨æ‰¹å¤„ç†æ–‡ä»¶**
   ```bash
   start-frontend-safe.bat
   ```

3. **å®šæœŸæ¸…ç†ç¼“å­˜**
   ```bash
   npm run clean
   ```

4. **ç›‘æ§å¯åŠ¨æ—¥å¿—**
   - æ³¨æ„è§‚å¯Ÿæ¸…ç†è¿‡ç¨‹è¾“å‡º
   - æ£€æŸ¥æ˜¯å¦æœ‰é”™è¯¯è­¦å‘Š

## ğŸ‰ é¢„æœŸæ•ˆæœ

ä½¿ç”¨è‡ªåŠ¨ä¿®å¤åŠŸèƒ½åï¼Œä½ åº”è¯¥èƒ½å¤Ÿï¼š

- âœ… é¿å… `Unexpected token '<'` é”™è¯¯
- âœ… è‡ªåŠ¨è§£å†³ç¼“å­˜å†²çª
- âœ… å¿«é€Ÿæ¢å¤ç³»ç»Ÿæ­£å¸¸è¿è¡Œ
- âœ… å‡å°‘æ‰‹åŠ¨æ•…éšœæ’é™¤æ—¶é—´

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¦‚æœè‡ªåŠ¨ä¿®å¤åŠŸèƒ½æ— æ³•è§£å†³é—®é¢˜ï¼Œè¯·ï¼š

1. æ£€æŸ¥é”™è¯¯æ—¥å¿—æ–‡ä»¶
2. å°è¯•æ‰‹åŠ¨æ¸…ç†å’Œé‡æ–°å®‰è£…
3. ç¡®è®¤ç³»ç»Ÿç¯å¢ƒé…ç½®æ­£ç¡®
4. è”ç³»æŠ€æœ¯æ”¯æŒå›¢é˜Ÿ

---

**æ³¨æ„**: è‡ªåŠ¨ä¿®å¤åŠŸèƒ½ä¼šåœ¨æ¯æ¬¡å¯åŠ¨æ—¶è¿è¡Œï¼Œç¡®ä¿ç³»ç»Ÿå§‹ç»ˆå¤„äºæœ€ä½³çŠ¶æ€ã€‚