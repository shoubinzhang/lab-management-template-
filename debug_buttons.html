<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¯•å‰‚ç®¡ç†é¡µé¢æŒ‰é’®è°ƒè¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            line-height: 1.6;
        }
        .debug-section {
            background: #f5f5f5;
            padding: 15px;
            margin: 10px 0;
            border-radius: 5px;
        }
        .code {
            background: #e8e8e8;
            padding: 5px;
            border-radius: 3px;
            font-family: monospace;
        }
        .step {
            margin: 10px 0;
            padding: 10px;
            background: #fff;
            border-left: 4px solid #2196f3;
        }
    </style>
</head>
<body>
    <h1>è¯•å‰‚ç®¡ç†é¡µé¢æŒ‰é’®è°ƒè¯•æŒ‡å—</h1>
    
    <div class="debug-section">
        <h2>ğŸ” è°ƒè¯•æ­¥éª¤</h2>
        
        <div class="step">
            <h3>æ­¥éª¤1: æ£€æŸ¥ç”¨æˆ·æƒé™</h3>
            <p>åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­æ‰§è¡Œä»¥ä¸‹ä»£ç ï¼š</p>
            <div class="code">
                // æ£€æŸ¥ç”¨æˆ·ä¿¡æ¯<br>
                const user = JSON.parse(localStorage.getItem('user') || '{}');<br>
                console.log('ç”¨æˆ·ä¿¡æ¯:', user);<br>
                console.log('ç”¨æˆ·è§’è‰²:', user.role);<br>
                console.log('æ˜¯å¦ä¸ºç®¡ç†å‘˜:', user.role === 'admin');
            </div>
        </div>
        
        <div class="step">
            <h3>æ­¥éª¤2: æ£€æŸ¥å±å¹•å°ºå¯¸åˆ¤æ–­</h3>
            <p>åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­æ‰§è¡Œä»¥ä¸‹ä»£ç ï¼š</p>
            <div class="code">
                // æ£€æŸ¥å±å¹•å°ºå¯¸<br>
                console.log('çª—å£å®½åº¦:', window.innerWidth);<br>
                console.log('çª—å£é«˜åº¦:', window.innerHeight);<br>
                console.log('æ˜¯å¦ä¸ºç§»åŠ¨ç«¯ (å®½åº¦ < 960px):', window.innerWidth < 960);
            </div>
        </div>
        
        <div class="step">
            <h3>æ­¥éª¤3: æ£€æŸ¥DOMå…ƒç´ </h3>
            <p>åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­æ‰§è¡Œä»¥ä¸‹ä»£ç ï¼š</p>
            <div class="code">
                // æŸ¥æ‰¾æŒ‰é’®å…ƒç´ <br>
                const editButtons = document.querySelectorAll('button:contains("ç¼–è¾‘"), [aria-label*="ç¼–è¾‘"]');<br>
                const deleteButtons = document.querySelectorAll('button:contains("åˆ é™¤"), [aria-label*="åˆ é™¤"]');<br>
                const requestButtons = document.querySelectorAll('button:contains("ç”³è¯·"), [aria-label*="ç”³è¯·"]');<br>
                <br>
                console.log('ç¼–è¾‘æŒ‰é’®æ•°é‡:', editButtons.length);<br>
                console.log('åˆ é™¤æŒ‰é’®æ•°é‡:', deleteButtons.length);<br>
                console.log('ç”³è¯·æŒ‰é’®æ•°é‡:', requestButtons.length);<br>
                <br>
                // æ£€æŸ¥æŒ‰é’®æ ·å¼<br>
                editButtons.forEach((btn, index) => {<br>
                &nbsp;&nbsp;const style = window.getComputedStyle(btn);<br>
                &nbsp;&nbsp;console.log(`ç¼–è¾‘æŒ‰é’®${index + 1}:`, {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;display: style.display,<br>
                &nbsp;&nbsp;&nbsp;&nbsp;visibility: style.visibility,<br>
                &nbsp;&nbsp;&nbsp;&nbsp;opacity: style.opacity<br>
                &nbsp;&nbsp;});<br>
                });
            </div>
        </div>
        
        <div class="step">
            <h3>æ­¥éª¤4: æ£€æŸ¥Reactç»„ä»¶çŠ¶æ€</h3>
            <p>æŸ¥çœ‹æ§åˆ¶å°ä¸­çš„è°ƒè¯•ä¿¡æ¯ï¼Œåº”è¯¥èƒ½çœ‹åˆ°ç±»ä¼¼è¿™æ ·çš„è¾“å‡ºï¼š</p>
            <div class="code">
                ReagentListItem Debug: {<br>
                &nbsp;&nbsp;reagentName: "è¯•å‰‚åç§°",<br>
                &nbsp;&nbsp;isAdmin: true/false,<br>
                &nbsp;&nbsp;isMobile: true/false,<br>
                &nbsp;&nbsp;userRole: "admin"/"user",<br>
                &nbsp;&nbsp;hasEditCallback: true/false,<br>
                &nbsp;&nbsp;hasDeleteCallback: true/false<br>
                }
            </div>
        </div>
        
        <div class="step">
            <h3>æ­¥éª¤5: æ£€æŸ¥CSSæ ·å¼</h3>
            <p>åœ¨æµè§ˆå™¨æ§åˆ¶å°ä¸­æ‰§è¡Œä»¥ä¸‹ä»£ç ï¼š</p>
            <div class="code">
                // æ£€æŸ¥è¯•å‰‚åˆ—è¡¨å®¹å™¨<br>
                const container = document.querySelector('.reagents-list-container');<br>
                if (container) {<br>
                &nbsp;&nbsp;const style = window.getComputedStyle(container);<br>
                &nbsp;&nbsp;console.log('è¯•å‰‚åˆ—è¡¨å®¹å™¨æ ·å¼:', {<br>
                &nbsp;&nbsp;&nbsp;&nbsp;display: style.display,<br>
                &nbsp;&nbsp;&nbsp;&nbsp;visibility: style.visibility<br>
                &nbsp;&nbsp;});<br>
                } else {<br>
                &nbsp;&nbsp;console.log('æœªæ‰¾åˆ°è¯•å‰‚åˆ—è¡¨å®¹å™¨');<br>
                }
            </div>
        </div>
    </div>
    
    <div class="debug-section">
        <h2>ğŸ¯ é¢„æœŸç»“æœ</h2>
        <ul>
            <li><strong>ç®¡ç†å‘˜ç”¨æˆ·</strong>ï¼šåº”è¯¥çœ‹åˆ°"ç”³è¯·"ã€"ç¼–è¾‘"ã€"åˆ é™¤"ä¸‰ä¸ªæŒ‰é’®</li>
            <li><strong>æ™®é€šç”¨æˆ·</strong>ï¼šåº”è¯¥åªçœ‹åˆ°"ç”³è¯·"æŒ‰é’®</li>
            <li><strong>æ¡Œé¢ç«¯</strong>ï¼šæŒ‰é’®åº”è¯¥åœ¨æ¯è¡Œè¯•å‰‚çš„å³ä¾§æ˜¾ç¤º</li>
            <li><strong>ç§»åŠ¨ç«¯</strong>ï¼šæŒ‰é’®åº”è¯¥åœ¨å¡ç‰‡åº•éƒ¨æ˜¾ç¤º</li>
        </ul>
    </div>
    
    <div class="debug-section">
        <h2>ğŸ”§ å¸¸è§é—®é¢˜è§£å†³æ–¹æ¡ˆ</h2>
        
        <h3>é—®é¢˜1: ç”¨æˆ·æœªç™»å½•æˆ–æƒé™ä¸è¶³</h3>
        <p>è§£å†³æ–¹æ¡ˆï¼šç¡®ä¿ç”¨æˆ·å·²ç™»å½•ä¸”è§’è‰²ä¸º"admin"</p>
        
        <h3>é—®é¢˜2: CSSæ ·å¼éšè—äº†æŒ‰é’®</h3>
        <p>è§£å†³æ–¹æ¡ˆï¼šæ£€æŸ¥CSSè§„åˆ™ï¼Œç¡®ä¿æ²¡æœ‰display:noneæˆ–visibility:hidden</p>
        
        <h3>é—®é¢˜3: å“åº”å¼å¸ƒå±€åˆ¤æ–­é”™è¯¯</h3>
        <p>è§£å†³æ–¹æ¡ˆï¼šæ£€æŸ¥Material-UIä¸»é¢˜é…ç½®å’Œå±å¹•å°ºå¯¸åˆ¤æ–­</p>
        
        <h3>é—®é¢˜4: ç»„ä»¶propsä¼ é€’é”™è¯¯</h3>
        <p>è§£å†³æ–¹æ¡ˆï¼šæ£€æŸ¥ReagentsPage â†’ ReagentsListContainer â†’ ReagentListItemçš„propsä¼ é€’é“¾</p>
    </div>
    
    <script>
        // è‡ªåŠ¨æ‰§è¡Œä¸€äº›åŸºæœ¬æ£€æŸ¥
        window.addEventListener('load', function() {
            console.log('=== è¯•å‰‚ç®¡ç†é¡µé¢æŒ‰é’®è°ƒè¯• ===');
            
            // æ£€æŸ¥ç”¨æˆ·ä¿¡æ¯
            try {
                const user = JSON.parse(localStorage.getItem('user') || '{}');
                console.log('ç”¨æˆ·ä¿¡æ¯:', user);
                console.log('ç”¨æˆ·è§’è‰²:', user.role);
                console.log('æ˜¯å¦ä¸ºç®¡ç†å‘˜:', user.role === 'admin');
            } catch (e) {
                console.log('æ— æ³•è·å–ç”¨æˆ·ä¿¡æ¯:', e);
            }
            
            // æ£€æŸ¥å±å¹•å°ºå¯¸
            console.log('çª—å£å°ºå¯¸:', {
                width: window.innerWidth,
                height: window.innerHeight,
                isMobile: window.innerWidth < 960
            });
            
            console.log('è¯·æŒ‰ç…§é¡µé¢ä¸Šçš„æ­¥éª¤è¿›è¡Œè¯¦ç»†è°ƒè¯•ï¼');
        });
    </script>
</body>
</html>