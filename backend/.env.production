# 生产环境配置文件
# 注意：此文件包含敏感信息，不应提交到版本控制系统

# 数据库配置 - PostgreSQL (生产环境推荐)
DATABASE_URL=postgresql://lab_user:your_secure_password@localhost:5432/lab_management_prod

# 数据库连接池配置
DB_POOL_SIZE=20
DB_MAX_OVERFLOW=30
DB_POOL_TIMEOUT=60
DB_ECHO=false

# JWT配置 - 使用强随机密钥
# 生产环境中请使用: openssl rand -hex 32 生成密钥
SECRET_KEY=your-super-secure-secret-key-change-this-in-production-32-chars-minimum
JWT_SECRET_KEY=your-jwt-secret-key-change-this-in-production-32-chars-minimum
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=60
REFRESH_TOKEN_EXPIRE_DAYS=7

# 应用配置
APP_NAME=Lab Management System
APP_VERSION=1.0.0
DEBUG=false
ENVIRONMENT=production

# 安全配置
ALLOWED_HOSTS=your-domain.com,www.your-domain.com
ALLOWED_ORIGINS=https://your-domain.com,https://www.your-domain.com
SECURE_COOKIES=true
HTTPS_ONLY=true

# CORS配置
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOW_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOW_HEADERS=*

# 文件上传配置
MAX_FILE_SIZE=52428800  # 50MB
UPLOAD_DIR=/var/uploads
ALLOWED_FILE_TYPES=pdf,doc,docx,xls,xlsx,jpg,jpeg,png,gif

# 日志配置
LOG_LEVEL=WARNING
LOG_FILE=/var/log/lab-management/app.log
LOG_MAX_SIZE=10485760  # 10MB
LOG_BACKUP_COUNT=5

# Redis配置 (缓存和会话)
REDIS_URL=redis://localhost:6379/0
CACHE_TTL=3600

# 邮件配置 (用于通知)
SMTP_HOST=smtp.your-email-provider.com
SMTP_PORT=587
SMTP_USERNAME=your-email@your-domain.com
SMTP_PASSWORD=your-email-password
SMTP_TLS=true
FROM_EMAIL=noreply@your-domain.com

# 监控配置
SENTRY_DSN=https://your-sentry-dsn@sentry.io/project-id

# 备份配置
BACKUP_SCHEDULE=0 2 * * *  # 每天凌晨2点备份
BACKUP_RETENTION_DAYS=30
BACKUP_LOCATION=/var/backups/lab-management

# 性能配置
WORKER_PROCESSES=4
WORKER_CONNECTIONS=1000
KEEP_ALIVE_TIMEOUT=65
CLIENT_MAX_BODY_SIZE=50M

# SSL/TLS配置
SSL_CERT_PATH=/etc/ssl/certs/your-domain.crt
SSL_KEY_PATH=/etc/ssl/private/your-domain.key

# 数据库备份配置
DB_BACKUP_ENABLED=true
DB_BACKUP_SCHEDULE=0 3 * * *  # 每天凌晨3点
DB_BACKUP_RETENTION=30

# 安全头部配置
SECURITY_HEADERS_ENABLED=true
HSTS_MAX_AGE=31536000
CONTENT_SECURITY_POLICY=default-src 'self'; script-src 'self' 'unsafe-inline'; style-src 'self' 'unsafe-inline'